const _0x3395db=_0x2e03;(function(_0x4afd8b,_0x304c69){const _0x5a4de9=_0x2e03,_0x51a6d4=_0x4afd8b();while(!![]){try{const _0x331479=parseInt(_0x5a4de9(0x118))/0x1+parseInt(_0x5a4de9(0x74))/0x2*(parseInt(_0x5a4de9(0xc5))/0x3)+parseInt(_0x5a4de9(0x131))/0x4+-parseInt(_0x5a4de9(0x130))/0x5*(parseInt(_0x5a4de9(0xfe))/0x6)+-parseInt(_0x5a4de9(0x85))/0x7*(parseInt(_0x5a4de9(0x11b))/0x8)+-parseInt(_0x5a4de9(0x104))/0x9+parseInt(_0x5a4de9(0xf6))/0xa;if(_0x331479===_0x304c69)break;else _0x51a6d4['push'](_0x51a6d4['shift']());}catch(_0x99c2f7){_0x51a6d4['push'](_0x51a6d4['shift']());}}}(_0x868d,0x51e1f));function getRoleFromTokenn(_0x2e1b88){const _0x3fad53=_0x2e03;try{const _0x15fab3=JSON[_0x3fad53(0x138)](atob(_0x2e1b88[_0x3fad53(0x87)]('.')[0x1]));return _0x15fab3[_0x3fad53(0x13d)];}catch(_0x8fc1fd){return null;}}const token=sessionStorage[_0x3395db(0x112)](_0x3395db(0x134)),role=token?getRoleFromTokenn(token):null,fileInput=document['getElementById']('fileInput');fileInput['addEventListener'](_0x3395db(0x149),function(){const _0x57d22c=_0x3395db;if(this[_0x57d22c(0x141)][_0x57d22c(0xd8)]===0x0){const _0x4a7e00=this['cloneNode'](!![]);this[_0x57d22c(0x14d)](_0x4a7e00);}});!role&&(window[_0x3395db(0x13f)][_0x3395db(0xaa)]=_0x3395db(0x77));function _0x868d(){const _0xe7e399=['dept-section','margin','yellow','approvalPathInput','change','orange','className','Reject\x20request\x20failed','replaceWith','message','submitted_by','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position','readOnly','mousemove','roleSetTime','onclick','stringify','10px','Please\x20enter\x20a\x20comment.','button','borderRadius','display','forEach','menuToggle','appendChild','38404ztWtXN','memos-container','scrollTo','index.html','Container\x20not\x20found','❌\x20You\x20are\x20not\x20logged\x20in.','</p>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','body','keys','toString','\x20Decline\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27)\x22\x20style=\x22font-size:\x2018px;\x20font-weight:\x20bold;\x20padding:\x2010px\x2016px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','destination','created_at','6181fQZWNR','detail','split','charAt','comments','none','7px','\x22\x20alt=\x22Memo\x20Image\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22approval-status\x22\x20data-id=\x22','popupBody','Pending\x20approval\x20from\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:22px;\x22><strong\x20style=\x22color:\x20#ADD8E;\x20font-size:20px;\x22>From:</strong>\x20','match','fontSize','map','innerHTML','includes','<p\x20style=\x22color:red;\x22>There\x20is\x20an\x20issue.\x20Please\x20contact\x20John\x20(0110426848).</p>','Conditional\x20memo\x20refresh\x20failed:','submit','response','removeItem','<div\x20class=\x22scroll-wrapper\x22><div\x20class=\x22button-container\x22>','backgroundColor','setAttribute','No\x20token\x20found.\x20Please\x20login.','\x0a\x20\x20\x20\x20<div\x20class=\x22comment-box\x22\x20style=\x22margin-top:10px;\x20padding:6px;\x20background:#f9f9f9;\x20color:black;\x20border-left:4px\x20solid\x20#007BFF;\x20border-radius:5px;\x22>\x0a\x20\x20\x20\x20\x20\x20<strong\x20style=\x22font-size:\x2020px;\x22>Comments:</strong>\x0a\x20\x20\x20\x20\x20\x20','stopPropagation','warn','span','toLowerCase','querySelector','<p>No\x20fully\x20approved\x20memos\x20yet.</p>','target','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<hr\x20/>\x0a\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:20px;\x22><strong>Submitted\x20on:</strong>\x20','Invalid\x20destination\x20format','auto','5px','href','push','green','getElementById','\x0a\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20gap:\x208px;\x20margin-top:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-size:\x2021px;\x20color:\x20','getAttribute','\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','some','✓\x20Selected',']\x20Department</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','opacity','data-department','click','\x20Approve\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reject-btn\x22\x20onclick=\x22rejectMemo(','#333333','open','GET','center','UPLOAD','memo-wrapper','department','scroll','Approval\x20failed','POST','\x20Department</p>\x0a\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:20px;\x22><strong>To:</strong>\x20[','input[name=\x22person\x22]','24EDbtTR','entries','memo','uploadBtn','application/json','selectedIndex','200px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','value','disabled','❌\x20Network\x20or\x20server\x20error','reset','DOMContentLoaded','uploadStatus','keydown','<span\x20class=\x22spinner\x22\x20style=\x22margin-right:\x208px;\x22></span>\x20<span\x20style=\x22color:\x20yellow;\x22>Uploading...</span>','from','\x22\x20alt=\x22Memo\x20Image\x22\x20style=\x22max-width:\x20200px;\x20margin-top:\x2010px;\x22\x20onerror=\x22this.style.display=\x27none\x27;\x22>\x0a\x20\x20\x20\x20','From\x20','length','replace','\x20Department','join','inline-block','dept-','preventDefault','9999','Other','filter','popupModal','style','_approved','sidebarMenu','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22approval-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22box-title\x22\x20style=\x22font-size:\x201.2rem;\x20font-weight:\x20bold;\x22>','popupTitle','memoForm','fontWeight','<p>Loading\x20memos,\x20please\x20try\x20again\x20in\x20a\x20moment...</p>','\x0a\x20\x20\x20\x20\x20\x20<p><strong>Submitted\x20by:</strong>\x20','add','</span>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','600','input[name=\x22department\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:\x2010px;\x20display:\x20flex;\x20gap:\x207px;\x20flex-wrap:\x20wrap;\x20justify-content:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20<p><strong>Department:</strong>\x20','zIndex','red','\x22\x20alt=\x22Memo\x20Image\x22\x20style=\x22max-width:100%;\x20border-radius:8px;\x20margin:10px\x200;\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22approval-status\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20<p><strong>Created\x20at:</strong>\x20','4891940qrOhAe','approved','div','#28a745','https://memo-locator-production.up.railway.app/view','https://memo-locator-production.up.railway.app/reject','<p\x20style=\x22font-size:\x2015px;\x22><strong>','5px\x20solid\x20#ccc','28794hsrYMr','remove','has','Failed\x20to\x20decode\x20token:','approval_status','badge','5735628BdSArv','border','onload','tagContainer','status','bold','Approval\x20request\x20failed','vote','querySelectorAll','Bearer\x20','Memos\x20Received\x20In\x20',';\x22>','textContent','Reject\x20failed','getItem','\x20Department</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:22px;\x22><strong\x20style=\x22color:\x20#ADD8E;\x20font-size:20px;\x22>To:</strong>\x20[','every','trim','commentInput','❌\x20Failed\x20to\x20upload\x20memo.','414147BWYwxA','block','sub','2504cRnGFv','\x0a\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:20px;\x22><strong>From:</strong>\x20','1.0rem','You\x20have\x20been\x20logged\x20out\x20due\x20to\x20inactivity.','relative',',\x20\x27','createElement','json','memo-card','black','</span>\x0a\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:\x20',';\x20font-size:\x2021px;\x20font-family:\x20sans-serif;\x22>','data-memo-id','classList','maxHeight','.dept-section','flexWrap','object',':</strong>\x20','commentModal','color','45NuAsfF','941184MfBoZm','filters','innerText','token','isArray','</p>\x0a\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:20px;\x22><strong>Department:</strong>\x20','error','parse',']\x20Department</p>\x0a\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:\x207px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','addEventListener','role','</p>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22','location','data','files','\x20Approval</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22approveMemo(','active','contains'];_0x868d=function(){return _0xe7e399;};return _0x868d();}const menuToggle=document['getElementById'](_0x3395db(0x72)),sidebar=document['getElementById'](_0x3395db(0xe5));let idleTime=0x0;const maxIdle=0x1e*0x3c*0x3e8;let idleInterval;menuToggle[_0x3395db(0x13c)]('click',_0x3c02c3=>{const _0x32a196=_0x3395db;sidebar['classList'][_0x32a196(0xec)](_0x32a196(0xba)),_0x3c02c3['stopPropagation']();});const destinationSelect=document[_0x3395db(0xad)]('destinationSelect'),tagContainer=document[_0x3395db(0xad)](_0x3395db(0x107)),hiddenInput=document[_0x3395db(0xad)]('approvalPathInput');let selectedDepartments=[];destinationSelect[_0x3395db(0x13c)]('change',()=>{const _0x3894f9=_0x3395db,_0xed3e9=destinationSelect['value'];_0xed3e9&&!selectedDepartments[_0x3894f9(0x94)](_0xed3e9)&&(selectedDepartments[_0x3894f9(0xab)](_0xed3e9),updateTags(),updateHiddenInput()),destinationSelect[_0x3894f9(0xca)]=0x0;});function clearTags(){const _0x46a16e=_0x3395db;selectedDepartments=[],updateTags(),updateHiddenInput(),tagContainer[_0x46a16e(0xe3)][_0x46a16e(0x70)]=_0x46a16e(0x8a);}function updateTags(){const _0x4e6fa9=_0x3395db;tagContainer['style'][_0x4e6fa9(0x129)]=_0x4e6fa9(0xcb),tagContainer[_0x4e6fa9(0xe3)]['overflowY']=_0x4e6fa9(0xa8),tagContainer['style']['display']='flex',tagContainer[_0x4e6fa9(0xe3)][_0x4e6fa9(0x12b)]='wrap',tagContainer[_0x4e6fa9(0xe3)]['gap']=_0x4e6fa9(0x6c),tagContainer[_0x4e6fa9(0xe3)]['padding']='10px',tagContainer[_0x4e6fa9(0xe3)][_0x4e6fa9(0x105)]=_0x4e6fa9(0xfd),tagContainer[_0x4e6fa9(0x93)]='',selectedDepartments[_0x4e6fa9(0x71)](_0x576730=>{const _0x3fdcc5=_0x4e6fa9,_0x137c5e=document[_0x3fdcc5(0x121)](_0x3fdcc5(0xa1));_0x137c5e[_0x3fdcc5(0x110)]=_0x576730+'\x20✕',_0x137c5e[_0x3fdcc5(0xe3)]='\x0a\x20\x20\x20\x20\x20\x20background:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2040px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20',_0x137c5e['onclick']=()=>{const _0x5f4385=_0x3fdcc5;selectedDepartments=selectedDepartments[_0x5f4385(0xe1)](_0x3d7911=>_0x3d7911!==_0x576730),updateTags(),updateHiddenInput();},tagContainer['appendChild'](_0x137c5e);});}function _0x2e03(_0x48c1b2,_0x29bf7f){const _0x868d76=_0x868d();return _0x2e03=function(_0x2e0398,_0x1758c5){_0x2e0398=_0x2e0398-0x6b;let _0x37dc68=_0x868d76[_0x2e0398];return _0x37dc68;},_0x2e03(_0x48c1b2,_0x29bf7f);}function updateHiddenInput(){const _0x5465d5=_0x3395db;hiddenInput[_0x5465d5(0xcd)]=JSON[_0x5465d5(0x6b)](selectedDepartments);}document['addEventListener'](_0x3395db(0xb7),_0x1e1266=>{const _0x22c310=_0x3395db;!sidebar[_0x22c310(0x144)](_0x1e1266['target'])&&!menuToggle['contains'](_0x1e1266['target'])&&sidebar['classList'][_0x22c310(0xff)](_0x22c310(0xba));}),sidebar[_0x3395db(0x13c)](_0x3395db(0xb7),_0x401826=>{const _0x24c15a=_0x3395db;_0x401826[_0x24c15a(0x9f)]();});const form=document[_0x3395db(0xad)](_0x3395db(0xe8)),responseBox=document[_0x3395db(0xad)](_0x3395db(0x98)),button=document[_0x3395db(0xad)](_0x3395db(0xc8)),statusDiv=document[_0x3395db(0xad)](_0x3395db(0xd2)),hiddenPathInput=document[_0x3395db(0xad)](_0x3395db(0x148));form['addEventListener'](_0x3395db(0x97),async _0x340891=>{const _0x28aaa4=_0x3395db;_0x340891[_0x28aaa4(0xde)]();const _0x155f51=new FormData(form),_0x3b8e12=sessionStorage[_0x28aaa4(0x112)](_0x28aaa4(0x134));if(!_0x3b8e12){responseBox[_0x28aaa4(0x110)]=_0x28aaa4(0x79),responseBox[_0x28aaa4(0xe3)]['color']=_0x28aaa4(0xf3);return;}button[_0x28aaa4(0xce)]=!![],button['innerHTML']=_0x28aaa4(0xd4),statusDiv[_0x28aaa4(0x93)]='<span\x20style=\x22color:\x20yellow;\x20font-size:\x2027px;\x22>Please\x20wait\x20while\x20we\x20upload\x20your\x20file...</span>';try{const _0x2b7829=await fetch('https://memo-locator-production.up.railway.app/upload',{'method':_0x28aaa4(0xc2),'headers':{'Authorization':_0x28aaa4(0x10d)+_0x3b8e12},'body':_0x155f51}),_0x3f2276=await _0x2b7829[_0x28aaa4(0x122)]();if(_0x2b7829['ok']){responseBox[_0x28aaa4(0x110)]='✅\x20'+_0x3f2276['message'],responseBox['style'][_0x28aaa4(0x12f)]=_0x28aaa4(0xac),clearTags(),hiddenPathInput[_0x28aaa4(0xcd)]='',selectedDepartments=[],form['reset']();const _0x3f9fe1=parseJwt(_0x3b8e12);if(_0x3f9fe1&&_0x3f9fe1['sub']){const _0x8c0164=document[_0x28aaa4(0xa3)]('input[name=\x22person\x22]');_0x8c0164&&(_0x8c0164[_0x28aaa4(0xcd)]=_0x3f9fe1[_0x28aaa4(0x11a)],_0x8c0164[_0x28aaa4(0xe3)][_0x28aaa4(0x12f)]=_0x28aaa4(0x147),_0x8c0164[_0x28aaa4(0x152)]=!![]);}if(_0x3f9fe1&&_0x3f9fe1['role']){const _0x3b49f2=document[_0x28aaa4(0xa3)]('input[name=\x22department\x22]');_0x3b49f2&&(_0x3b49f2['value']=_0x3f9fe1[_0x28aaa4(0x13d)],_0x3b49f2[_0x28aaa4(0xe3)]['color']=_0x28aaa4(0x147),_0x3b49f2[_0x28aaa4(0x152)]=!![]);}button[_0x28aaa4(0x93)]=_0x28aaa4(0xbd),button[_0x28aaa4(0xe3)][_0x28aaa4(0x12f)]=_0x28aaa4(0x124),button['style']['fontWeight']=_0x28aaa4(0x109),button[_0x28aaa4(0xce)]=![],statusDiv[_0x28aaa4(0x110)]='',setTimeout(()=>{const _0x5e7b71=_0x28aaa4;responseBox['style'][_0x5e7b71(0xb5)]='0',setTimeout(()=>responseBox['textContent']='',0x1f4),responseBox[_0x5e7b71(0xe3)]['opacity']='1';},0xfa0);}else handleUploadError(_0x3f2276[_0x28aaa4(0x86)]||_0x3f2276[_0x28aaa4(0x137)]||'Upload\x20failed.');}catch(_0x4db7f0){console[_0x28aaa4(0x137)](_0x4db7f0),handleUploadError(_0x28aaa4(0x117));}});function handleUploadError(_0x397e08){const _0x48455e=_0x3395db;responseBox[_0x48455e(0x110)]=_0x397e08,responseBox[_0x48455e(0xe3)]['color']=_0x48455e(0xf3),button['disabled']=![],button[_0x48455e(0x93)]=_0x48455e(0xbd),button['style']['color']='black',button[_0x48455e(0xe3)]['fontWeight']=_0x48455e(0x109),statusDiv[_0x48455e(0x110)]='',form[_0x48455e(0xd0)]();}function clearTags(){const _0x3bbb08=_0x3395db,_0x35f23c=document[_0x3bbb08(0xad)](_0x3bbb08(0x107));if(_0x35f23c)_0x35f23c[_0x3bbb08(0x93)]='';}function parseJwt(_0x4005ce){try{return JSON['parse'](atob(_0x4005ce['split']('.')[0x1]));}catch(_0x288653){return null;}}window['addEventListener'](_0x3395db(0xd1),()=>{const _0x309c7f=_0x3395db,_0x3aa9ea=sessionStorage['getItem'](_0x309c7f(0x134));if(_0x3aa9ea){const _0x4e2815=parseJwt(_0x3aa9ea);if(_0x4e2815&&_0x4e2815[_0x309c7f(0x11a)]){const _0x52f4c8=document[_0x309c7f(0xa3)](_0x309c7f(0xc4));_0x52f4c8&&(_0x52f4c8['value']=_0x4e2815[_0x309c7f(0x11a)],_0x52f4c8[_0x309c7f(0xe3)][_0x309c7f(0x12f)]=_0x309c7f(0x147),_0x52f4c8[_0x309c7f(0x152)]=!![]);}}});let currentDepartment=null,currentHash='';async function rejectMemo(_0x5b358b,_0x342f24){const _0x3649b5=_0x3395db,_0xe80778=event[_0x3649b5(0xa5)],_0x3ad3b4=_0xe80778[_0x3649b5(0x110)],_0x3c0d65=prompt('Enter\x20your\x20comment\x20for\x20this\x20memo\x20approval:');if(_0x3c0d65===null)return;_0xe80778[_0x3649b5(0x110)]='Declining...',_0xe80778[_0x3649b5(0xce)]=!![],_0xe80778[_0x3649b5(0xe3)][_0x3649b5(0x9b)]=_0x3649b5(0x14a),_0xe80778[_0x3649b5(0xe3)][_0x3649b5(0x12f)]='yellow';try{const _0x1701d3=sessionStorage[_0x3649b5(0x112)](_0x3649b5(0x134));if(!_0x1701d3)throw new Error(_0x3649b5(0x9d));const _0x2d91b8=await fetch(_0x3649b5(0xfb),{'method':'POST','headers':{'Content-Type':_0x3649b5(0xc9),'Authorization':_0x3649b5(0x10d)+_0x1701d3},'body':JSON[_0x3649b5(0x6b)]({'memoId':_0x5b358b,'role':role,'comment':_0x3c0d65})}),_0x22e1ab=await _0x2d91b8['json']();_0x2d91b8['ok']?(alert('✅\x20'+_0x22e1ab[_0x3649b5(0x14e)]),await loadMemos()):alert('❌\x20'+(_0x22e1ab['error']||_0x3649b5(0x111)));}catch(_0x26c6a9){console['error'](_0x3649b5(0x14c),_0x26c6a9),alert('❌\x20Reject\x20request\x20failed.\x20Check\x20network\x20or\x20contact\x20support.');}finally{_0xe80778[_0x3649b5(0x110)]=_0x3ad3b4,_0xe80778[_0x3649b5(0xce)]=![],_0xe80778[_0x3649b5(0xe3)][_0x3649b5(0x9b)]='',_0xe80778[_0x3649b5(0xe3)]['color']='';}}function getRoleFromToken(){const _0x8a88ba=_0x3395db,_0x17c1ec=sessionStorage[_0x8a88ba(0x112)](_0x8a88ba(0x134));if(!_0x17c1ec)return null;try{const _0x2dd561=_0x17c1ec[_0x8a88ba(0x87)]('.')[0x1],_0x416d3f=atob(_0x2dd561),_0x3ed8df=JSON[_0x8a88ba(0x138)](_0x416d3f);return _0x3ed8df[_0x8a88ba(0x13d)]?.[_0x8a88ba(0xa2)]()||null;}catch(_0xf71cff){return console[_0x8a88ba(0x137)](_0x8a88ba(0x101),_0xf71cff),null;}}function getVoteFromToken(){const _0x1e4523=_0x3395db,_0x222232=sessionStorage['getItem']('token');if(!_0x222232)return null;try{const _0x1213c4=_0x222232['split']('.')[0x1],_0x3e0f73=atob(_0x1213c4),_0x1a498e=JSON['parse'](_0x3e0f73);return _0x1a498e[_0x1e4523(0x10b)]??null;}catch(_0x3f8891){return console[_0x1e4523(0x137)]('Failed\x20to\x20decode\x20token:',_0x3f8891),null;}}function generateApprovalButtons(_0x2f9315){const _0x3060c4=_0x3395db,_0x40b59d=getRoleFromToken(),_0x44f264=getVoteFromToken();if(!_0x40b59d||_0x44f264!==0x1)return'';let _0xce31d1=[];try{_0xce31d1=JSON[_0x3060c4(0x138)](_0x2f9315[_0x3060c4(0x83)]||'[]')[_0x3060c4(0x92)](_0x2ff01f=>_0x2ff01f['toLowerCase']());}catch(_0x53ddfb){console[_0x3060c4(0x137)](_0x3060c4(0xa7),_0x2f9315[_0x3060c4(0x83)]);}let _0x568cb7='';function _0x142c49(_0x55d5aa){const _0x1ec30b=_0x3060c4,_0xb6f2b9=_0x40b59d===_0x55d5aa;if(!_0xb6f2b9)return'';return _0x1ec30b(0xe6)+capitalize(_0x55d5aa)+_0x1ec30b(0x142)+_0x2f9315['id']+_0x1ec30b(0x120)+_0x55d5aa+'\x27)\x22\x20style=\x22font-size:\x2018px;\x20font-weight:\x20bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+capitalize(_0x55d5aa)+_0x1ec30b(0xb8)+_0x2f9315['id']+',\x20\x27'+_0x55d5aa+_0x1ec30b(0x81)+capitalize(_0x55d5aa)+_0x1ec30b(0x80);}return _0xce31d1[_0x3060c4(0x71)](_0x1860f6=>{_0x568cb7+=_0x142c49(_0x1860f6);}),_0x3060c4(0x9a)+_0x568cb7+'</div></div>';}function capitalize(_0x23f834){const _0x154a68=_0x3395db;return _0x23f834[_0x154a68(0x88)](0x0)[_0x154a68(0x13b)]()+_0x23f834['slice'](0x1);}function renderComment(_0x59b02d){const _0x3a6267=_0x3395db;if(!_0x59b02d||typeof _0x59b02d!==_0x3a6267(0x12c))return'';let _0x4588bc=Object[_0x3a6267(0xc6)](_0x59b02d)[_0x3a6267(0xe1)](([_0x153590,_0x21f969])=>_0x21f969&&_0x21f969[_0x3a6267(0x115)]()!=='')['map'](([_0x285501,_0x591374])=>{const _0x1e5362=_0x3a6267;return _0x1e5362(0xfc)+_0x285501[_0x1e5362(0x13b)]()+_0x1e5362(0x12d)+_0x591374+'</p>';});if(_0x4588bc['length']===0x0)return'';return _0x3a6267(0x9e)+_0x4588bc['join']('')+_0x3a6267(0xb0);}async function loadMemos(){const _0x786b13=_0x3395db;try{const _0x17dbfe=sessionStorage[_0x786b13(0x112)]('token');if(!_0x17dbfe)throw new Error(_0x786b13(0x9d));const _0x2e6bd6=await fetch(_0x786b13(0xfa),{'method':_0x786b13(0xbb),'headers':{'Authorization':_0x786b13(0x10d)+_0x17dbfe}}),_0x4f452a=await _0x2e6bd6[_0x786b13(0x122)]();if(!_0x2e6bd6['ok'])throw new Error(_0x4f452a[_0x786b13(0x86)]||'Failed\x20to\x20fetch\x20memos');const _0x36b63e=_0x4f452a[_0x786b13(0x140)],_0x3d79be={};_0x36b63e[_0x786b13(0x71)](_0x149a7d=>{const _0x24c9ce=_0x786b13,_0x474776=_0x149a7d[_0x24c9ce(0xbf)]||_0x24c9ce(0xe0);if(!_0x3d79be[_0x474776])_0x3d79be[_0x474776]=[];_0x3d79be[_0x474776][_0x24c9ce(0xab)](_0x149a7d);});const _0x469544=document[_0x786b13(0xad)](_0x786b13(0x75)),_0x40d5dc=document[_0x786b13(0xad)](_0x786b13(0x132));_0x469544[_0x786b13(0x93)]='',_0x40d5dc[_0x786b13(0x93)]='',Object[_0x786b13(0xc6)](_0x3d79be)['forEach'](([_0x21ed8e,_0x480432])=>{const _0x38e33b=_0x786b13;if(_0x480432[_0x38e33b(0xd8)]===0x0)return;const _0x425768=document[_0x38e33b(0x121)](_0x38e33b(0xf8));_0x425768[_0x38e33b(0xe3)][_0x38e33b(0x151)]=_0x38e33b(0x11f),_0x425768[_0x38e33b(0xe3)]['display']=_0x38e33b(0xdc),_0x425768['style'][_0x38e33b(0x146)]=_0x38e33b(0x8b),_0x425768[_0x38e33b(0xe3)]['textAlign']=_0x38e33b(0xbc);const _0x180c8e=document[_0x38e33b(0x121)](_0x38e33b(0x6e));_0x180c8e['textContent']=_0x21ed8e[_0x38e33b(0x13b)](),_0x180c8e[_0x38e33b(0x14b)]='filter-button',_0x180c8e['setAttribute']('data-department',_0x21ed8e),_0x180c8e[_0x38e33b(0xe3)][_0x38e33b(0x91)]=_0x38e33b(0x11d),_0x180c8e[_0x38e33b(0xe3)][_0x38e33b(0x12f)]=_0x38e33b(0x124),_0x180c8e['style'][_0x38e33b(0xe9)]=_0x38e33b(0xee);if(_0x21ed8e===currentDepartment)_0x180c8e[_0x38e33b(0x128)]['add'](_0x38e33b(0x143));const _0x3c551c=document[_0x38e33b(0x121)](_0x38e33b(0xa1));_0x3c551c[_0x38e33b(0x110)]=_0x480432['length'],_0x3c551c[_0x38e33b(0x14b)]=_0x38e33b(0x103),_0x425768[_0x38e33b(0x73)](_0x3c551c),_0x425768[_0x38e33b(0x73)](_0x180c8e),_0x40d5dc[_0x38e33b(0x73)](_0x425768),_0x180c8e[_0x38e33b(0x155)]=()=>{currentDepartment=_0x21ed8e,filterMemosByDepartment(_0x21ed8e);};const _0x3e5e74=document[_0x38e33b(0x121)]('div');_0x3e5e74[_0x38e33b(0x14b)]=_0x38e33b(0x145),_0x3e5e74['id']=_0x38e33b(0xdd)+_0x21ed8e;const _0x41b418=document[_0x38e33b(0x121)]('h2');_0x41b418[_0x38e33b(0x110)]=_0x38e33b(0xd7)+_0x21ed8e[_0x38e33b(0x13b)]()+_0x38e33b(0xda),_0x3e5e74[_0x38e33b(0x73)](_0x41b418);const _0x5df45e=document['createElement'](_0x38e33b(0xf8));_0x5df45e['className']=_0x38e33b(0xbe),_0x480432[_0x38e33b(0x71)](_0x2596e9=>{const _0x3967c1=_0x38e33b,_0x6d70fe=document['createElement'](_0x3967c1(0xf8));_0x6d70fe[_0x3967c1(0x14b)]=_0x3967c1(0xc7),_0x6d70fe[_0x3967c1(0x9c)](_0x3967c1(0x127),_0x2596e9['id']),_0x6d70fe['innerHTML']=_0x3967c1(0x8f)+_0x2596e9[_0x3967c1(0x14f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:22px;\x22><strong\x20style=\x22color:\x20#ADD8E;\x20font-size:20px;\x22>From:\x20'+_0x2596e9[_0x3967c1(0xbf)]+_0x3967c1(0x113)+formatDestination(_0x2596e9[_0x3967c1(0x83)])+_0x3967c1(0xb4)+_0x2596e9['image_url']+_0x3967c1(0x8c)+_0x2596e9['id']+_0x3967c1(0x150)+generateApprovalStatusHTML(_0x2596e9[_0x3967c1(0x102)],_0x2596e9[_0x3967c1(0x83)],_0x2596e9[_0x3967c1(0x108)])+_0x3967c1(0x7b)+renderComment(_0x2596e9[_0x3967c1(0x89)])+_0x3967c1(0xf0)+generateApprovalButtons(_0x2596e9)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22border:\x20none;\x20height:\x203px;\x20background:\x20linear-gradient(to\x20right,\x20#00f2ff,\x20#00ffae,\x20#00f2ff);\x20margin:\x2010px\x200\x2020px\x200;\x20border-radius:\x2010px;\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:22px;\x22><strong\x20style=\x22color:\x20#ADD8E;\x20font-size:20px;\x22>Submitted\x20on:</strong>\x20'+_0x2596e9[_0x3967c1(0x84)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5df45e[_0x3967c1(0x73)](_0x6d70fe);}),_0x3e5e74['appendChild'](_0x5df45e),_0x469544[_0x38e33b(0x73)](_0x3e5e74);});const _0x30dcd2=Object[_0x786b13(0x7e)](_0x3d79be)[0x0];(!currentDepartment||!_0x3d79be[currentDepartment])&&(currentDepartment=_0x30dcd2),filterMemosByDepartment(currentDepartment);}catch(_0x4c828b){document['body']['innerHTML']=_0x786b13(0x95),console[_0x786b13(0x137)](_0x4c828b);}}function getApprovalRoles(_0x3c9a8f){const _0x24bb27=_0x3395db;try{const _0x220c86=JSON[_0x24bb27(0x138)](_0x3c9a8f);if(Array[_0x24bb27(0x135)](_0x220c86))return Array[_0x24bb27(0xd5)](new Set(_0x220c86['map'](_0x40917e=>_0x40917e[_0x24bb27(0x115)]()[_0x24bb27(0xa2)]())));}catch(_0x3f50b0){return[_0x3c9a8f['trim']()[_0x24bb27(0xa2)]()];}return[];}function generateApprovalStatusHTML(_0xdd354a,_0x156f33,_0x206bb1=''){const _0x49f2d6=_0x3395db,_0x3b1d50=getApprovalRoles(_0x156f33)[_0x49f2d6(0x92)](_0x2fc539=>_0x2fc539[_0x49f2d6(0xa2)]()),_0x34038d=new Set(),_0x26adc4=[];return _0x206bb1&&!_0xdd354a[_0x49f2d6(0x94)](_0x206bb1)&&(_0xdd354a=[..._0xdd354a,_0x206bb1]),_0xdd354a['forEach'](_0x967c79=>{const _0x378526=_0x49f2d6,_0x11e2a2=_0x967c79[_0x378526(0xa2)]();let _0x59a236=null;if(_0x11e2a2['includes'](_0x378526(0xf7))){const _0x1c89b0=_0x11e2a2[_0x378526(0x90)](/approved by ([\w\s]+)/)||_0x11e2a2[_0x378526(0x90)](/^([\w\s]+?)\s+approved/);if(_0x1c89b0)_0x59a236=_0x1c89b0[0x1][_0x378526(0x115)]()['toLowerCase']();_0x59a236&&_0x3b1d50['includes'](_0x59a236)&&(_0x34038d[_0x378526(0xec)](_0x59a236),_0x26adc4[_0x378526(0xab)](createStatusLine('✅',_0x378526(0xac),_0x967c79)));}else{if(_0x11e2a2[_0x378526(0x94)]('rejected')){const _0x35855d=_0x11e2a2['match'](/rejected by ([\w\s]+)/)||_0x11e2a2[_0x378526(0x90)](/^([\w\s]+?)\s+rejected/);if(_0x35855d)_0x59a236=_0x35855d[0x1][_0x378526(0x115)]()[_0x378526(0xa2)]();_0x59a236&&_0x3b1d50['includes'](_0x59a236)&&(_0x34038d[_0x378526(0xec)](_0x59a236),_0x26adc4[_0x378526(0xab)](createStatusLine('❌',_0x378526(0xf3),_0x967c79)));}else{const _0x1de379=_0x11e2a2[_0x378526(0x90)](/pending approval from ([\w\s]+)/);_0x1de379&&(_0x59a236=_0x1de379[0x1][_0x378526(0x115)]()['toLowerCase'](),_0x3b1d50[_0x378526(0x94)](_0x59a236)&&(_0x34038d[_0x378526(0xec)](_0x59a236),_0x26adc4[_0x378526(0xab)](createStatusLine('☐','orange',_0x967c79))));}}}),_0x3b1d50['forEach'](_0x25e616=>{const _0x53ed96=_0x49f2d6;!_0x34038d[_0x53ed96(0x100)](_0x25e616)&&_0x26adc4['push'](createStatusLine('☐',_0x53ed96(0x14a),_0x53ed96(0x8e)+capitalize(_0x25e616)));}),_0x26adc4[_0x49f2d6(0xdb)]('');}function createStatusLine(_0x8fb3b2,_0x32c43e,_0x5493b7){const _0x122660=_0x3395db;return _0x122660(0xae)+_0x32c43e+_0x122660(0x10f)+_0x8fb3b2+_0x122660(0x125)+_0x32c43e+_0x122660(0x126)+_0x5493b7+_0x122660(0xed);}function capitalize(_0x4a5c35){const _0x193fef=_0x3395db;return _0x4a5c35[_0x193fef(0x88)](0x0)[_0x193fef(0x13b)]()+_0x4a5c35[_0x193fef(0x82)](0x1);}function closeModall(){const _0x1beda3=_0x3395db;document['getElementById'](_0x1beda3(0x12e))[_0x1beda3(0xe3)][_0x1beda3(0x70)]='none',document[_0x1beda3(0xad)]('commentInput')[_0x1beda3(0xcd)]='';}let currentMemoId=null,currentRole=null;function approveMemo(_0x151124,_0x2ff043){const _0x21d482=_0x3395db;currentMemoId=_0x151124,currentRole=_0x2ff043,document['getElementById'](_0x21d482(0x12e))['style']['display']=_0x21d482(0x119);}function closeModal(){const _0x2dd916=_0x3395db;document[_0x2dd916(0xad)](_0x2dd916(0x12e))[_0x2dd916(0xe3)]['display']=_0x2dd916(0x8a),document[_0x2dd916(0xad)](_0x2dd916(0x116))[_0x2dd916(0xcd)]='';}async function submitComment(_0xcb9703){const _0x59b733=_0x3395db,_0x5244ef=document[_0x59b733(0xad)](_0x59b733(0x116))['value'][_0x59b733(0x115)](),_0x2a0f49=_0xcb9703[_0x59b733(0xa5)],_0x8bb166=_0x2a0f49[_0x59b733(0x110)];if(!_0x5244ef){alert(_0x59b733(0x6d));return;}_0x2a0f49['textContent']='Submitting...',_0x2a0f49[_0x59b733(0xce)]=!![];try{const _0x5b14fd=sessionStorage[_0x59b733(0x112)]('token');if(!_0x5b14fd)throw new Error(_0x59b733(0x9d));const _0x4086cc=await fetch('https://memo-locator-production.up.railway.app/approve',{'method':_0x59b733(0xc2),'headers':{'Content-Type':_0x59b733(0xc9),'Authorization':_0x59b733(0x10d)+_0x5b14fd},'body':JSON['stringify']({'memo_id':currentMemoId,'role':currentRole,'comment':_0x5244ef})});closeModall();const _0x3837a8=await _0x4086cc[_0x59b733(0x122)]();_0x4086cc['ok']?(alert('✅\x20'+_0x3837a8[_0x59b733(0x14e)]),await loadMemos(),closeModall()):alert('❌\x20'+(_0x3837a8[_0x59b733(0x86)]||_0x3837a8[_0x59b733(0x137)]||_0x59b733(0xc1)));}catch(_0x14a288){console[_0x59b733(0x137)](_0x59b733(0x10a),_0x14a288),alert(_0x59b733(0xcf));}finally{_0x2a0f49['textContent']=_0x8bb166,_0x2a0f49[_0x59b733(0xce)]=![];}}function filterMemosByDepartment(_0x157d29){const _0x26c076=_0x3395db;document[_0x26c076(0x10c)](_0x26c076(0x12a))[_0x26c076(0x71)](_0x2690c6=>{const _0x377fb8=_0x26c076;_0x2690c6[_0x377fb8(0xe3)][_0x377fb8(0x70)]=_0x2690c6['id']==='dept-'+_0x157d29?'block':_0x377fb8(0x8a);}),document[_0x26c076(0x10c)]('.filter-button')[_0x26c076(0x71)](_0x26e543=>{const _0x164ed1=_0x26c076,_0x464118=_0x26e543[_0x164ed1(0xaf)](_0x164ed1(0xb6))===_0x157d29;if(_0x464118){_0x26e543['style'][_0x164ed1(0x9b)]=_0x164ed1(0xf9),_0x26e543[_0x164ed1(0xe3)]['color']='black',_0x26e543[_0x164ed1(0xe3)][_0x164ed1(0x105)]='1px\x20solid\x20#218838',_0x26e543['style']['borderRadius']=_0x164ed1(0xa9);const _0x378006=_0x26e543[_0x164ed1(0x133)];_0x26e543[_0x164ed1(0x133)]=_0x164ed1(0xb3),_0x26e543[_0x164ed1(0xce)]=!![],setTimeout(()=>{const _0x33673d=_0x164ed1;_0x26e543['innerText']=_0x378006,_0x26e543[_0x33673d(0xce)]=![],_0x26e543[_0x33673d(0xe3)][_0x33673d(0x9b)]=_0x33673d(0x147),_0x26e543['style']['color']='yellow';},0x3e8);}else _0x26e543['style'][_0x164ed1(0x9b)]='#f0f0f0',_0x26e543[_0x164ed1(0xe3)][_0x164ed1(0x12f)]=_0x164ed1(0xb9),_0x26e543['style']['border']='1px\x20solid\x20#cccccc',_0x26e543[_0x164ed1(0xe3)][_0x164ed1(0x6f)]='5px';});}let allMemos=[],memoHash='',memosLoaded=![];async function loadMemosIfChanged(){const _0x221f1e=_0x3395db;try{const _0x46059a=sessionStorage[_0x221f1e(0x112)]('token');if(!_0x46059a)throw new Error(_0x221f1e(0x9d));const _0x54bac1=await fetch(_0x221f1e(0xfa),{'method':_0x221f1e(0xbb),'headers':{'Authorization':_0x221f1e(0x10d)+_0x46059a}}),_0x5e588e=await _0x54bac1['json']();if(!_0x54bac1['ok'])throw new Error(_0x5e588e[_0x221f1e(0x86)]||'Failed\x20to\x20fetch\x20memos');const _0x55fd74=JSON[_0x221f1e(0x6b)](_0x5e588e['data']['map'](_0x46d227=>_0x46d227['id']+_0x46d227[_0x221f1e(0x102)][_0x221f1e(0xdb)](',')));if(_0x55fd74!==memoHash){memoHash=_0x55fd74,allMemos=_0x5e588e[_0x221f1e(0x140)],memosLoaded=!![];const _0x5ea9c3=window[_0x221f1e(0x7c)];await loadMemos(),window[_0x221f1e(0x76)](0x0,_0x5ea9c3);}}catch(_0x4fa832){console[_0x221f1e(0x137)](_0x221f1e(0x96),_0x4fa832[_0x221f1e(0x14e)]),memosLoaded=![];}}function getFullyApprovedMemos(){const _0x4c3e65=_0x3395db,_0x3d5fee=document[_0x4c3e65(0xad)]('fullyApprovedMemosContainer');if(!_0x3d5fee){console['error'](_0x4c3e65(0x78));return;}if(!memosLoaded||allMemos[_0x4c3e65(0xd8)]===0x0){_0x3d5fee[_0x4c3e65(0x93)]=_0x4c3e65(0xea);return;}const _0x4f3656=allMemos[_0x4c3e65(0xe1)](_0x14499c=>{const _0x3b8b4c=_0x4c3e65;try{const _0x301f74=JSON[_0x3b8b4c(0x138)](_0x14499c[_0x3b8b4c(0x83)]);return _0x301f74[_0x3b8b4c(0x114)](_0x18541d=>{const _0x2668ce=_0x3b8b4c,_0x5421a6=_0x18541d[_0x2668ce(0xa2)]()+_0x2668ce(0xe4);return _0x14499c[_0x5421a6]===0x1;});}catch(_0x1c61d9){return console[_0x3b8b4c(0xa0)]('Error\x20parsing\x20destination\x20for\x20memo\x20ID\x20'+_0x14499c['id']+':',_0x1c61d9),![];}});if(_0x4f3656[_0x4c3e65(0xd8)]===0x0){_0x3d5fee['innerHTML']=_0x4c3e65(0xa4);return;}_0x4f3656['forEach'](_0x4054ea=>{const _0x457d27=_0x4c3e65,_0x19a552=document[_0x457d27(0x121)]('div');_0x19a552[_0x457d27(0x14b)]=_0x457d27(0x123),_0x19a552[_0x457d27(0x93)]=_0x457d27(0xeb)+_0x4054ea[_0x457d27(0x14f)]+_0x457d27(0xf1)+_0x4054ea[_0x457d27(0xbf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20<p><strong>Destinations:</strong>\x20'+_0x4054ea[_0x457d27(0x83)]+_0x457d27(0xf5)+_0x4054ea['created_at']+_0x457d27(0x13e)+_0x4054ea['image_url']+_0x457d27(0xd6),_0x3d5fee[_0x457d27(0x73)](_0x19a552);});}function resetIdleTimer(){idleTime=0x0;}function startIdleTimer(){idleInterval=setInterval(()=>{const _0x48d834=_0x2e03;idleTime+=0x3e8,idleTime>=maxIdle&&(clearInterval(idleInterval),localStorage[_0x48d834(0x99)](_0x48d834(0x13d)),localStorage[_0x48d834(0x99)](_0x48d834(0x154)),alert(_0x48d834(0x11e)),window[_0x48d834(0x13f)][_0x48d834(0xaa)]=_0x48d834(0x77));},0x3e8);}window[_0x3395db(0x106)]=()=>{const _0x450fba=_0x3395db;startIdleTimer(),window[_0x450fba(0x13c)](_0x450fba(0x153),resetIdleTimer),window[_0x450fba(0x13c)](_0x450fba(0xd3),resetIdleTimer),window[_0x450fba(0x13c)](_0x450fba(0xb7),resetIdleTimer),window[_0x450fba(0x13c)](_0x450fba(0xc0),resetIdleTimer);};async function loadMemosforsidebar(_0x43f40e){const _0x246778=_0x3395db;try{const _0xadd49f=sessionStorage[_0x246778(0x112)]('token');if(!_0xadd49f)throw new Error(_0x246778(0x9d));const _0x5410e8=await fetch(_0x246778(0xfa),{'method':'GET','headers':{'Authorization':_0x246778(0x10d)+_0xadd49f}}),_0x36c67b=await _0x5410e8[_0x246778(0x122)]();if(!_0x5410e8['ok'])throw new Error('Failed\x20to\x20fetch\x20memos');const _0x40606d=_0x36c67b[_0x246778(0x140)],_0x2c22ce=_0x43f40e[_0x246778(0x115)]()[_0x246778(0xa2)](),_0x186ae5=_0x40606d['filter'](_0xf351b9=>{const _0x17d333=_0x246778;try{const _0x1d6949=JSON[_0x17d333(0x138)](_0xf351b9[_0x17d333(0x83)]);if(Array[_0x17d333(0x135)](_0x1d6949))return _0x1d6949[_0x17d333(0xb2)](_0xd1a4d=>_0xd1a4d['trim']()['toLowerCase']()===_0x2c22ce);}catch{return(_0xf351b9[_0x17d333(0x83)]||'')[_0x17d333(0x115)]()[_0x17d333(0xa2)]()===_0x2c22ce;}return![];});_0x186ae5['length']>0x0?showMemosInModal(_0x43f40e,_0x186ae5):alert('No\x20memos\x20found\x20for\x20'+_0x43f40e);}catch(_0x564b6e){document[_0x246778(0x7d)]['innerHTML']=_0x246778(0x95),console[_0x246778(0x137)](_0x564b6e);}}function formatDestination(_0x465104){const _0x2e7bed=_0x3395db;try{const _0x14d318=JSON[_0x2e7bed(0x138)](_0x465104);if(Array['isArray'](_0x14d318))return _0x14d318[_0x2e7bed(0x92)](_0x1e48ca=>_0x1e48ca[_0x2e7bed(0x115)]())['join'](',\x20');}catch{return _0x465104;}return _0x465104;}async function showMemosInModal(_0x4891b1,_0x14dc3c){const _0x1c8a5e=_0x3395db,_0x81b4b5=document[_0x1c8a5e(0xad)]('popupModal'),_0x5a1657=document[_0x1c8a5e(0xad)](_0x1c8a5e(0xe7)),_0x33197b=document[_0x1c8a5e(0xad)](_0x1c8a5e(0x8d));if(_0x5a1657)_0x5a1657[_0x1c8a5e(0x110)]='';if(_0x33197b)_0x33197b[_0x1c8a5e(0x93)]='';_0x5a1657[_0x1c8a5e(0x110)]=_0x1c8a5e(0x10e)+_0x4891b1+'\x20Department';const _0x3c5ef2=document[_0x1c8a5e(0x121)](_0x1c8a5e(0xf8));_0x3c5ef2[_0x1c8a5e(0x14b)]='memo-wrapper',_0x14dc3c[_0x1c8a5e(0x71)](_0xad048d=>{const _0x4bb5b2=_0x1c8a5e,_0x3b0aa5=document['createElement']('div');_0x3b0aa5[_0x4bb5b2(0x14b)]='memo',_0x3b0aa5['innerHTML']=_0x4bb5b2(0x11c)+_0xad048d[_0x4bb5b2(0x14f)]+_0x4bb5b2(0x136)+_0xad048d[_0x4bb5b2(0xbf)]+_0x4bb5b2(0xc3)+formatDestination(_0xad048d[_0x4bb5b2(0x83)])+_0x4bb5b2(0x139)+_0xad048d['image_url']+_0x4bb5b2(0xf4)+_0xad048d['id']+_0x4bb5b2(0xb1)+generateApprovalStatusHTML(_0xad048d[_0x4bb5b2(0x102)],_0xad048d[_0x4bb5b2(0x83)],_0xad048d[_0x4bb5b2(0x108)])+_0x4bb5b2(0xcc)+renderComment(_0xad048d[_0x4bb5b2(0x89)])+_0x4bb5b2(0x13a)+generateApprovalButtons(_0xad048d)+_0x4bb5b2(0xa6)+_0xad048d['created_at']+_0x4bb5b2(0x7a),_0x3c5ef2[_0x4bb5b2(0x73)](_0x3b0aa5);}),_0x33197b[_0x1c8a5e(0x73)](_0x3c5ef2),_0x81b4b5[_0x1c8a5e(0xe3)]['display']='block',_0x81b4b5[_0x1c8a5e(0xe3)][_0x1c8a5e(0xf2)]=_0x1c8a5e(0xdf);}function closeModal(){const _0x7ba9c1=_0x3395db;document[_0x7ba9c1(0xad)](_0x7ba9c1(0xe2))[_0x7ba9c1(0xe3)][_0x7ba9c1(0x70)]='none';}function parseJwt(_0x2cbc8d){const _0x30a942=_0x3395db;try{const _0xcfc7d=_0x2cbc8d['split']('.')[0x1],_0x2439ef=_0xcfc7d[_0x30a942(0xd9)](/-/g,'+')[_0x30a942(0xd9)](/_/g,'/'),_0x1bbd03=decodeURIComponent(atob(_0x2439ef)[_0x30a942(0x87)]('')[_0x30a942(0x92)](_0x5c24f8=>'%'+('00'+_0x5c24f8['charCodeAt'](0x0)[_0x30a942(0x7f)](0x10))[_0x30a942(0x82)](-0x2))[_0x30a942(0xdb)](''));return JSON[_0x30a942(0x138)](_0x1bbd03);}catch(_0x46922a){return console[_0x30a942(0x137)]('Failed\x20to\x20parse\x20JWT:',_0x46922a),null;}}window[_0x3395db(0x13c)](_0x3395db(0xd1),()=>{const _0x518157=_0x3395db,_0x7cfc7d=sessionStorage[_0x518157(0x112)]('token');if(_0x7cfc7d){const _0x9c7ae6=parseJwt(_0x7cfc7d);if(_0x9c7ae6&&_0x9c7ae6[_0x518157(0x11a)]){const _0x1de097=_0x9c7ae6[_0x518157(0x11a)],_0x25142d=document[_0x518157(0xa3)](_0x518157(0xc4));_0x25142d&&(_0x25142d[_0x518157(0xcd)]=_0x1de097,_0x25142d[_0x518157(0xe3)]['color']='yellow',_0x25142d[_0x518157(0x152)]=!![]);}}}),window['addEventListener'](_0x3395db(0xd1),()=>{const _0x147bc7=_0x3395db,_0x4fecc0=sessionStorage[_0x147bc7(0x112)](_0x147bc7(0x134));if(_0x4fecc0){const _0x5f05bc=parseJwt(_0x4fecc0);if(_0x5f05bc&&_0x5f05bc[_0x147bc7(0x13d)]){const _0x488ece=_0x5f05bc[_0x147bc7(0x13d)],_0x404786=document[_0x147bc7(0xa3)](_0x147bc7(0xef));_0x404786&&(_0x404786[_0x147bc7(0xcd)]=_0x488ece,_0x404786[_0x147bc7(0xe3)]['color']=_0x147bc7(0x147),_0x404786['readOnly']=!![]);}}}),setInterval(loadMemosIfChanged,0x2328),loadMemos();
